
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module CRISpy.Reduction</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="CRISpy.html"><font color="#ffffff">CRISpy</font></a>.Reduction</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/alex/Documents/deeppolarimetry/CRISpy/Reduction.py">/Users/alex/Documents/deeppolarimetry/CRISpy/Reduction.py</a></font></td></tr></table>
    <p><tt>Reduction&nbsp;routines&nbsp;to&nbsp;get&nbsp;more&nbsp;out&nbsp;of&nbsp;your&nbsp;cubes.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="matplotlib.animation.html">matplotlib.animation</a><br>
</td><td width="25%" valign=top><a href="scipy.fftpack.html">scipy.fftpack</a><br>
</td><td width="25%" valign=top><a href="numpy.html">numpy</a><br>
</td><td width="25%" valign=top><a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-PCA"><strong>PCA</strong></a>(cube_array, PCA_N)</dt><dd><tt>Preform&nbsp;PCA&nbsp;on&nbsp;a&nbsp;3d&nbsp;array.<br>
&nbsp;<br>
INPUT:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cube_array&nbsp;&nbsp;:&nbsp;name&nbsp;of&nbsp;3D&nbsp;numpy&nbsp;array&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;tapered.&nbsp;Cube&nbsp;must&nbsp;be&nbsp;square!<br>
&nbsp;&nbsp;&nbsp;&nbsp;PCA_N&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br>
&nbsp;<br>
OUTPUT:<br>
&nbsp;&nbsp;&nbsp;&nbsp;3d&nbsp;cube&nbsp;of&nbsp;sorted&nbsp;PCA&nbsp;components.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
AUTHOR:&nbsp;Alex&nbsp;(2016&nbsp;class)<br>
&nbsp;<br>
#&nbsp;singular&nbsp;value&nbsp;decomposition&nbsp;factorises&nbsp;your&nbsp;data&nbsp;matrix&nbsp;such&nbsp;that:<br>
#<br>
#&nbsp;&nbsp;&nbsp;M&nbsp;=&nbsp;U*S*V.T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(where&nbsp;'*'&nbsp;is&nbsp;matrix&nbsp;multiplication)<br>
#<br>
#&nbsp;*&nbsp;U&nbsp;and&nbsp;V&nbsp;are&nbsp;the&nbsp;singular&nbsp;matrices,&nbsp;containing&nbsp;orthogonal&nbsp;vectors&nbsp;of<br>
#&nbsp;&nbsp;&nbsp;unit&nbsp;length&nbsp;in&nbsp;their&nbsp;rows&nbsp;and&nbsp;columns&nbsp;respectively.<br>
#<br>
#&nbsp;*&nbsp;S&nbsp;is&nbsp;a&nbsp;diagonal&nbsp;matrix&nbsp;containing&nbsp;the&nbsp;singular&nbsp;values&nbsp;of&nbsp;M&nbsp;-&nbsp;these<br>
#&nbsp;&nbsp;&nbsp;values&nbsp;squared&nbsp;divided&nbsp;by&nbsp;the&nbsp;number&nbsp;of&nbsp;observations&nbsp;will&nbsp;give&nbsp;the<br>
#&nbsp;&nbsp;&nbsp;variance&nbsp;explained&nbsp;by&nbsp;each&nbsp;PC.<br>
#<br>
#&nbsp;*&nbsp;if&nbsp;M&nbsp;is&nbsp;considered&nbsp;to&nbsp;be&nbsp;an&nbsp;(observations,&nbsp;features)&nbsp;matrix,&nbsp;the&nbsp;PCs<br>
#&nbsp;&nbsp;&nbsp;themselves&nbsp;would&nbsp;correspond&nbsp;to&nbsp;the&nbsp;rows&nbsp;of&nbsp;S^(1/2)*V.T.&nbsp;if&nbsp;M&nbsp;is<br>
#&nbsp;&nbsp;&nbsp;(features,&nbsp;observations)&nbsp;then&nbsp;the&nbsp;PCs&nbsp;would&nbsp;be&nbsp;the&nbsp;columns&nbsp;of<br>
#&nbsp;&nbsp;&nbsp;U*S^(1/2).<br>
#<br>
#&nbsp;*&nbsp;since&nbsp;U&nbsp;and&nbsp;V&nbsp;both&nbsp;contain&nbsp;orthonormal&nbsp;vectors,&nbsp;U*V.T&nbsp;is&nbsp;equivalent<br>
#&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;whitened&nbsp;version&nbsp;of&nbsp;M.</tt></dd></dl>
 <dl><dt><a name="-animatecrisp"><strong>animatecrisp</strong></a>(cube, dim, nw, nt, cut<font color="#909090">=50</font>, t<font color="#909090">=0</font>, s<font color="#909090">=0</font>, w<font color="#909090">=0</font>, ns<font color="#909090">=4</font>, interval<font color="#909090">=75</font>, cmap<font color="#909090">='gray'</font>)</dt><dd><tt>crispex&nbsp;cubes&nbsp;are&nbsp;formated&nbsp;as&nbsp;an&nbsp;entire&nbsp;scan&nbsp;for&nbsp;one&nbsp;time&nbsp;and&nbsp;stokes.<br>
&nbsp;<br>
function&nbsp;is&nbsp;WIP</tt></dd></dl>
 <dl><dt><a name="-binpic5d"><strong>binpic5d</strong></a>(cube_array_5d, n<font color="#909090">=4</font>)</dt><dd><tt>Bins&nbsp;a&nbsp;5d&nbsp;cube<br>
INPUT:<br>
cube_array_5d&nbsp;:&nbsp;5d&nbsp;cube&nbsp;in&nbsp;the&nbsp;shape&nbsp;of&nbsp;[nt,ns,nw,nx,ny]<br>
n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;bin&nbsp;size&nbsp;Default&nbsp;=&nbsp;4<br>
OUTPUT:<br>
binned&nbsp;cube&nbsp;with&nbsp;shape&nbsp;[nt,ns,nw,nx/n,ny/n]</tt></dd></dl>
 <dl><dt><a name="-fftclean"><strong>fftclean</strong></a>(cube_array, cut1<font color="#909090">=[417, 430, 410, 421]</font>, cut2<font color="#909090">=[430, 443, 438, 450]</font>, zoom<font color="#909090">=[410, 460, 410, 460]</font>, plot<font color="#909090">=1</font>)</dt><dd><tt>Allows&nbsp;for&nbsp;simple&nbsp;FFT&nbsp;cleaning&nbsp;by&nbsp;removing&nbsp;two&nbsp;boxes&nbsp;around&nbsp;the&nbsp;FFT&nbsp;image.<br>
Remember&nbsp;to&nbsp;use&nbsp;<a href="#-taper_cube">taper_cube</a>()&nbsp;before&nbsp;running!<br>
&nbsp;<br>
INPUT:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cube_array&nbsp;&nbsp;:&nbsp;name&nbsp;of&nbsp;3D&nbsp;numpy&nbsp;array&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;tapered.&nbsp;Remember&nbsp;to&nbsp;use&nbsp;taper_cube!<br>
&nbsp;&nbsp;&nbsp;&nbsp;cut1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;first&nbsp;box&nbsp;to&nbsp;be&nbsp;removed&nbsp;&nbsp;&nbsp;Default:&nbsp;[417,430,&nbsp;410,421]<br>
&nbsp;&nbsp;&nbsp;&nbsp;cut2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;secpnd&nbsp;box&nbsp;to&nbsp;be&nbsp;removed&nbsp;&nbsp;Default:&nbsp;[430,443,&nbsp;438,450]<br>
&nbsp;&nbsp;&nbsp;&nbsp;zoom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Zoom&nbsp;into&nbsp;central&nbsp;spike&nbsp;&nbsp;&nbsp;Default:&nbsp;[410,460,410,460]<br>
&nbsp;&nbsp;&nbsp;&nbsp;plot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Show&nbsp;diagnostic&nbsp;plot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default:&nbsp;True<br>
&nbsp;<br>
OUTPUT:<br>
&nbsp;&nbsp;&nbsp;&nbsp;imput&nbsp;array&nbsp;after&nbsp;filtering&nbsp;and&nbsp;diagnostic&nbsp;plot&nbsp;if&nbsp;plot=1.<br>
&nbsp;<br>
AUTHOR:&nbsp;Alex</tt></dd></dl>
 <dl><dt><a name="-reverse_arr"><strong>reverse_arr</strong></a>(lst)</dt><dd><tt>reverses&nbsp;an&nbsp;array&nbsp;backwards&nbsp;(used&nbsp;by&nbsp;taper_cube)<br>
&nbsp;<br>
INPUT:<br>
lst&nbsp;:&nbsp;any&nbsp;1d&nbsp;list&nbsp;or&nbsp;array<br>
OUTPUT:<br>
reversed&nbsp;array<br>
&nbsp;<br>
AUTHOR:&nbsp;Alex?</tt></dd></dl>
 <dl><dt><a name="-taper_cube"><strong>taper_cube</strong></a>(cube_array, sm<font color="#909090">=0.0625</font>)</dt><dd><tt>multiplies&nbsp;edges&nbsp;of&nbsp;data&nbsp;with&nbsp;a&nbsp;smoothly&nbsp;decreasing&nbsp;taper&nbsp;to&nbsp;allow&nbsp;for&nbsp;easy&nbsp;FFT&nbsp;tiling&nbsp;and&nbsp;to&nbsp;avoid&nbsp;edge&nbsp;effects.<br>
&nbsp;<br>
INPUT:<br>
cube_array&nbsp;&nbsp;:&nbsp;name&nbsp;of&nbsp;3D&nbsp;numpy&nbsp;array&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;tapered.&nbsp;Cube&nbsp;must&nbsp;be&nbsp;square!<br>
sm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;size&nbsp;of&nbsp;taper&nbsp;border.<br>
OUTPUT:<br>
(cube_array&nbsp;-&nbsp;np.median(cube_array))&nbsp;*&nbsp;taper<br>
&nbsp;<br>
AUTHOR:&nbsp;Based&nbsp;on&nbsp;red_taper2&nbsp;by&nbsp;Jaime&nbsp;and&nbsp;Mats&nbsp;adapted&nbsp;to&nbsp;python&nbsp;by&nbsp;Alex</tt></dd></dl>
</td></tr></table>
</body></html>